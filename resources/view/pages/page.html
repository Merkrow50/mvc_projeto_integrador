<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{title}}</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css">
  <link rel="stylesheet" href="{{URL}}/resources/view/styles/footer.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <style>


    .ft-legal-list {
      width: 100%;
      display: flex;
      flex-wrap: wrap;
    }
    .ft-legal-list li {
      margin: 0.125rem 0.625rem;
      white-space: nowrap;
    }
    .ft-legal-list li:nth-last-child(2) {
      flex: 1;
    }


    body {
      background-color: #ddd;
    }
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      background-color: #ffffff;
      border-radius: 5px;
      padding-top: 5px;
    }
    .pagination > a,
    .pagination > span {
      color: #383838;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 17px;
      margin: 0 2px 5px;
      min-width: 20px;
      padding: 0 10px;
      height: 40px;
      text-decoration: none;
      border-radius: 5px;
      font-family: Helvetica, Arial, sans-serif;
    }
    .pagination > span {
      pointer-events: none;
    }
    .pagination svg {
      height: 24px;
      width: 24px;
    }
    .pagination > a.active {
      background: #41A58D;
      color: #fff;
    }
    .pagination > a:hover {
      background: #41A58D;
      color: #fff;
    }









    .div-button-new{
      text-align: right;
      border: 1px solid #ccc;
      background-color: #F2F2F2;
    }

    .table-container {
      margin-top: 6rem;
      padding: 0 1rem;
    }




    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      background: #333;
      color: white;
      font-weight: bold;
      cursor: cell;
    }
    td, th {
      padding: 6px;
      border: 1px solid #ccc;
      text-align: left;
      box-sizing: border-box;
    }

    tr:nth-child(even) {background-color: #f2f2f2;}




















      .footer {
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        background-color: #373A47;
        color: white;
        text-align: center;
      }


      .w3-teal{
        background-color: #41A58D!important;
      }
      .w3-container {
        height: 3.6rem;
        padding: 0;
      }




      #close-sidebar {
        cursor: pointer;
      }

    #close-sidebar:hover {
      color: white;
      background-color: #FF0000;
      cursor: pointer;
    }

      /* The side navigation menu */
      .sidebar {
        margin: 0;
        padding: 0;
        width: 200px;
        background-color: #f1f1f1;
        position: fixed;
        height: 100%;
        overflow: auto;
      }

      /* Sidebar links */
      .sidebar a {
        display: block;
        color: black;
        padding: 16px;
        text-decoration: none;
      }

      /* Active/current link */
      .sidebar a.active {
        background-color: #41A58D;
        color: white;
      }

      /* Links on mouse-over */
      .sidebar a:hover:not(.active) {
        background-color: #373A47;
        color: white;
      }

      /* Page content. The value of the margin-left property should match the value of the sidebar's width property */
      div.content {
        height: 1000px;
      }

      /*!* On screens that are less than 700px wide, make the sidebar into a topbar *!*/
      /*@media screen and (max-width: 700px) {*/
      /*  .sidebar {*/
      /*    width: 100%;*/
      /*    height: auto;*/
      /*    position: relative;*/
      /*  }*/
      /*  .sidebar a {float: left;}*/
      /*  div.content {margin-left: 0;}*/
      /*}*/

      /*!* On screens that are less than 400px, display the bar vertically, instead of horizontally *!*/
      /*@media screen and (max-width: 400px) {*/
      /*  .sidebar a {*/
      /*    text-align: center;*/
      /*    float: none;*/
      /*  }*/
      /*}*/




      .jumbotron {
        margin-top: 5rem;
        padding: 2rem 1rem;
        margin-bottom: 2rem;
        background-color: #41A58D;
        border-radius: 0.3rem;
      }

      .jumbotron-fluid {
        padding-right: 0;
        padding-left: 0;
        border-radius: 0;
      }


        .jumbotron {
          padding: 4rem 2rem;
        }


      .column {
        float: left;
        width: 33.33%;
      }

















    a:link {
      text-decoration: none;
    }

    #btn-novo{
      padding: 5px;
      width: 7rem;
      background-color: #41A58D;
      margin: 10px;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }

    #btn-novo:hover{
      padding: 5px;
      width: 7rem;
      background-color: #296859;
      margin: 10px;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }




    /* Style inputs, select elements and textareas */
    input[type=text], input[type=datetime-local], input[type=number], input[type=email], input[type=password], select, textarea{
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      resize: vertical;
    }

    /* Style the label to display next to the inputs */
    label {
      padding: 12px 12px 12px 0;
      display: inline-block;
    }

    /* Style the submit button */
    input[type=submit] {
      background-color: #04AA6D;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      float: right;
    }

    button[type=submit] {
      background-color: #04AA6D;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      float: right;
    }


    button[type=submit]:disabled {
      background-color: #c1c1c1;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      float: right;
    }

    /* Style the submit button */
    input[type=button] {
      background-color: #777777;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      float: right;
    }

    input[type=button]:hover {
      background-color: #555555;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      float: right;
    }

    /* Style the container */
    .container-form {
      border-radius: 5px;
      background-color: #f2f2f2;
      padding: 20px;
    }

    /* Floating column for labels: 25% width */
    .col-25 {
      float: left;
      width: 25%;
      margin-top: 6px;
    }

    /* Floating column for labels: 25% width */
    .col-50 {
      float: left;
      width: 50%;
      margin-top: 6px;
    }

    /* Floating column for inputs: 75% width */
    .col-75 {
      float: left;
      width: 75%;
      margin-top: 6px;
    }

    /* Clear floats after the columns */
    .row:after {
      content: "";
      display: table;
      clear: both;
    }

    /* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */
    @media screen and (max-width: 600px) {
      .col-25, .col-75, input[type=submit] {
        width: 100%;
        margin-top: 0;
      }
    }


















    /* The Modal (background) */
    .modal {
      display: block; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 1; /* Sit on top */
      padding-top: 100px; /* Location of the box */
      left: 0;
      top: 0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal Content */
    .modal-content {
      background-color: #fefefe;
      margin: auto;
      border: 1px solid #888;
      width: 80%;
      border-radius: 20px;
    }

    .modal-body{
      padding: 10px;
    }

    .modal-header {
      background-color:  #FF0000;
      width: 100%;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
    }

    .modal-title{
      margin: 0 !important;
      padding: 15px !important;
      color: #FFFFFF;
    }

    .modal-footer{
      margin: 15px;
    }

    .modal-button-confirm{
      float: none!important;
      border: none!important;
      color: white!important;
      padding: 5px 16px!important;
      text-align: center!important;
      text-decoration: none!important;
      display: inline-block!important;
      font-size: 16px!important;
    }






    /* The snackbar - position it at the bottom and in the middle of the screen */
    #snackbar {
      visibility: hidden; /* Hidden by default. Visible on click */
      min-width: 250px; /* Set a default minimum width */
      margin-left: -125px; /* Divide value of min-width by 2 */
      background-color: #333; /* Black background color */
      color: #fff; /* White text color */
      text-align: center; /* Centered text */
      border-radius: 2px; /* Rounded borders */
      padding: 16px; /* Padding */
      position: fixed; /* Sit on top of the screen */
      z-index: 1; /* Add a z-index if needed */
      left: 50%; /* Center the snackbar */
      top: 30px; /* 30px from the bottom */
    }

    /* Show the snackbar when clicking on a button (class added with JavaScript) */
    #snackbar.show {
      visibility: visible; /* Show the snackbar */
      /* Add animation: Take 0.5 seconds to fade in and out the snackbar.
      However, delay the fade out process for 2.5 seconds */
      -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
      animation: fadein 0.5s, fadeout 0.5s 2.5s;
    }

    /* Animations to fade the snackbar in and out */
    @-webkit-keyframes fadein {
      from {top: 0; opacity: 0;}
      to {top: 30px; opacity: 1;}
    }

    @keyframes fadein {
      from {top: 0; opacity: 0;}
      to {top: 30px; opacity: 1;}
    }

    @-webkit-keyframes fadeout {
      from {top: 30px; opacity: 1;}
      to {top: 0; opacity: 0;}
    }

    @keyframes fadeout {
      from {top: 30px; opacity: 1;}
      to {top: 0; opacity: 0;}
    }


    #icon-submit{
      margin-left: -12px;
      margin-right: 8px;
      display:none;
    }


    a[disabled] {
      pointer-events: none;
      background-color: #dddddd;
    }
  </style>
</head>
<body>
{{header}}

<div class="container">
<div class="content" id="content">
  <div class="w3-container w3-teal">
    <div class="row">
    <div class="column"><button id="w3" class="w3-button w3-teal w3-xlarge" onclick="w3_open()">â˜°</button></div>
    <div class="column" style="text-align:center;"><img src="{{URL}}/resources/view/images/logo-co2-branco.png" alt="logo" style="padding: 10px; width: 150px;"></div>
    <div class="column" style="text-align:right;"><a href="{{URL}}/admin/logout"><i class="fas fa-sign-out-alt" style="font-size: x-large; padding: 15px;"></i></a></div>
    </div>
  </div>
  <div id="snackbar">Some text some message..</div>
  {{content}}

  {{footer}}
</div>
</div>

<script>

  $(document).on('click', function(e) {
    let w3 = $("#w3");
    if (!$(e.target).closest(w3).length) {
      w3_close()
    }
  });

  let btnNovo = document.getElementById('btn-novo');
  if (btnNovo) {
    btnNovo.onclick = () => {
      document.location.href = `${document.location.pathname}/form`;
    };
  }

  function w3_open() {
    document.getElementById("sidebar").style.display = "block";
  }

  function w3_close() {
    document.getElementById("sidebar").style.display = "none";
  }

  let _role = "{{role}}"

  console.log(_role)

  if(_role === "admin"){
    document.getElementById("link_called").style.display = "none";
  }

  if(_role === "operator"){
    document.getElementById("link_report").style.display = "none";
    document.getElementById("link_vehicle").style.display = "none";
    document.getElementById("link_collaborator").style.display = "none";
    document.getElementById("link_user").style.display = "none";
  }

  if(_role === "driver"){
    document.getElementById("link_report").style.display = "none";
    document.getElementById("link_vehicle").style.display = "none";
    document.getElementById("link_user").style.display = "none";
    document.getElementById("link_collaborator").style.display = "none";
    document.getElementById("btn-novo").style.display = "none";
  }

  function myFunction(message) {
    // Get the snackbar DIV
    var x = document.getElementById("snackbar");

    // Add the "show" class to DIV
    x.className = "show";
    x.innerText = message

    // After 3 seconds, remove the show class from DIV
    setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
  }

  function onSubmit(){
    document.getElementById('icon-submit').style.display = "inline-block"
    document.getElementById('btn-submit').disabled = true;
  }

  const params = new URLSearchParams(window.location.search)


  switch(params.get('status')){
    case 'edited':
      myFunction("Item editado com sucesso!");
      window.history.pushState("object or string", "Title", window.location.pathname);
      break;
    case 'deleted':
      myFunction("Item deletado com sucesso!");
      window.history.pushState("object or string", "Title", window.location.pathname);
      break;
    case 'finished':
      myFunction("Item finalizado com sucesso!");
      window.history.pushState("object or string", "Title", window.location.pathname);
      break;
    case 'created':
      myFunction("Item criado com sucesso!");
      window.history.pushState("object or string", "Title", window.location.pathname);
      break;
    case 'cancelled':
      myFunction("Item cancelado com sucesso!");
      window.history.pushState("object or string", "Title", window.location.pathname);
      break;
    case 'blocked':
      myFunction("Item bloqueado com sucesso!");
      window.history.pushState("object or string", "Title", window.location.pathname);
      break;
    case 'unblocked':
      myFunction("Item desbloqueado com sucesso!");
      window.history.pushState("object or string", "Title", window.location.pathname);
      break;
  }


</script>
</body>
</html>
